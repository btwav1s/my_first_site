{% extends 'core/base.html' %}

{% load static%}
{% comment %} {% block css_additional %} <link rel="stylesheet" href="{% static 'blog/css/blog.css'%}"> {% endblock %} {% endcomment %}


{% block title %}{{article.title}} {% endblock %}

{% block content %}
    <div class="col-md-12 mt-3 bg-body-tertiary">
        <h1 class="text-center">{{article.title}}</h1>
        
    </div>
    <div class="col-md-12 d-flex justify-content-center align-items-center">
        <img src="{{article.picture}}" class="smaller-image mt-5 img-fluid" width="500" height="500" alt="ПРОБЛЕМЫ С ФОТОГРАФИЕЙ ((">
    </div>
    <div class="row mt-5">
        <div class="col-md-5">
            <div class="article-description bg-body-tertiary">
                <h5>Описание статьи:</h5>
                <h5>{{article.content_preview}}</h5>
                <h5>Дата публикации: {{article.created_at}}</h5>
                <h5>Дата обновления: {{article.created_at}}</h5>
                <h5>Теги: {% for tag in article.tags.all %}
                    <a href='#'>#{{tag.name}}</a> 
                    {% endfor %}</h5>
                <h5>Категория: <a href='#'>{{article.category.name}}</a></h5>
            </div>    
            <div class="card-comment mt-3 bg-body-tertiary">
                <h2 class ="text-center">Хотите добавить комментарий ?)↓</h2>
                {% comment %} action = {% url 'add_comment'article.id%} {% endcomment %}
                <form method="post">
                    {% csrf_token %}
                    {{form.as_p}}
                    <input class="btn btn-outline-primary" type="submit" value="Добавить комментарий">
                </form>
            </div>
        </div>
        <div class="col-md-7 bg-body-tertiary article-content">
            <p>{{ article.content|linebreaksbr }}</p>
        </div>
    </div>
    <div class ></div>
    <style>
        {% comment %} .article-description {
            display: flex;
            align-items: flex-start;
        } 

        .article-description {
            flex-shrink: 0;
        } {% endcomment %}
        .article-description {
            border: 1px solid #ccc;
            padding: 10px;}
        
        .card-comment {
            border: 1px solid #ccc;
            padding: 10px;}

        .article-content {
            border: 1px solid #ccc;
            padding: 10px;}
    </style>

    {% comment %} <p>Дата публикации: {{article.created_at}}</p>
    <p>Дата обновления: {{article.updated_at}}</p>
    <p>Теги: {% for tag in article.tags.all %}
        <a href='#'>#{{tag.name}}</a> 
        {% endfor %}
    </p>
    <p>Категория: <a href='#'>{{article.category.name}}</a></p>

    <p>{{article.content}}</p>{% endcomment %}

    
    
    {% comment %} <div class = 'col-md-12 mt-2'>
        <h3>Комментарии</h3>
        <hr>
        {% for comment in article.comments.all %}
            <p>{{comment.content}}</p>
            <p><strong>Имя:</strong> {{comment.name}}</p>
            <p><strong>Дата публикации:</strong> {{comment.created_at}}</p>
            <hr>
        {% empty %}
            <p>Комментариев нету</p>
        {% endfor %} {% endcomment %}

{% endblock %}
